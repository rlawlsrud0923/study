<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>07장 예제</title>
  <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="js/jquery-ui-1.10.3.custom.min.js"></script>
  <script type="text/javascript">

  $(document).ready(function(){

    var $wrap = $('.wrap');
    var $wrap_width = $('.wrap').width();
    var $wrap_offset = $('.wrap').offset().left;
    var total = wrap_width + wrap_offset
    console.log("width값: "+$wrap_width + "/ offset().left: "+$wrap_offset);
    $(window).resize(function(){
      $('.fly').css('left', $wrap.offset().left + $wrap.width()+10) //fly박스 부모(=wrap)박스 오른쪽에 붙이기
    });

    $(window).scroll(function(){
      $('.fly').stop().animate({ //scroll할 때 fly를 stop메서드를 사용해서 fix와 비슷하게 위치를 고정시켜줌.
        top:$(this).scrollTop() // animate를 top으로 줘서 서서히 stop되게 함
        },1000)
      })
      //stop()메서드: 선택한 요소에 대해 현재 실행중인 애니메이션의 마지막값만 받음.

      $(window).trigger('resize');
    })
  </script>

<style media="screen">
  .wrap{
    width: 800px; height: 2000px;
    border: 1px #f00 solid;
    margin:0 auto;}

  .fly{
    width: 80px; height: 200px;
    border: 1px #F00 solid;
    position: absolute; left:0; top:0;
  }

</style>
</head>
<body>
  <div class="wrap"></div>
  <div class="fly"></div>
</body>
</html>
