<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>animate</title>
    <script type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<style>

    .box{width:100px; height:100px; background: #000;}

</style>
<script>

        $(function(){

           $('.box').animate({
                marginLeft: '200px',
                opacity: '0'
            },{
              duration: 3000,//3초동안  
              step:function(){

            //   var a = $(this).css('marginLeft')
            //   console.log(a)

                var a = $(this).offset().left
                if(a > 100){ //a가 100보다 커지면

                    //animate는 이동하는 값을 다 실행함. stop메서드를 주면 마지막 값만 실행함.
                    $(this).stop().animate({
                        marginLeft':0,
                        //다시 돌아가면서
                        opacity:'1' //불투명하게
                    })
                },

            }
        })
        
</script>
    
</head>
<body>
   
   <div class="box"></div>
    
</body>
</html>